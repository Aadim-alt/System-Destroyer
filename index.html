<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Stress Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f7f7f7;
            color: #333;
        }
        header {
            background-color: #4CAF50;
            color: white;
            padding: 20px;
            text-align: center;
        }
        main {
            padding: 20px;
            text-align: center;
        }
        h1, h2 {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .level-button {
            padding: 15px 30px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            margin: 10px;
            transition: background-color 0.3s;
        }
        .level-button:hover {
            background-color: #45a049;
        }
        .warning {
            color: red;
            font-weight: bold;
            margin-top: 20px;
        }
        .privacy-policy {
            background-color: #fff;
            border: 1px solid #ccc;
            padding: 15px;
            margin-top: 30px;
            font-size: 14px;
        }
        .privacy-policy a {
            color: #4CAF50;
        }
        .achievements {
            margin-top: 20px;
            padding: 10px;
            background-color: #f4f4f4;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <header>
        <h1>System Stress Test</h1>
        <p>Test your system's capability by gradually increasing the load!</p>
    </header>

    <main>
        <button id="start-test" class="level-button">Start Test</button>
        <div id="level-display"></div>
        <div class="warning" id="warning"></div>
        
        <div class="privacy-policy">
            <h3>Privacy Policy</h3>
            <p>We do not collect or share any personal data. This test is only for local stress testing of your browser's capabilities. The data generated during the test is stored only in your browser and is not sent to any external servers.</p>
            <p><strong>Important:</strong> This tool can cause your browser or device to slow down or crash. Use at your own risk.</p>
        </div>
        
        <div id="achievements" class="achievements"></div>
    </main>

    <script>
        let currentLevel = 1;
        const levelDisplay = document.getElementById('level-display');
        const warningDisplay = document.getElementById('warning');
        const achievementsDisplay = document.getElementById('achievements');
        let achievements = [];

        // Function to load a specific level of the stress test
        function loadLevel(level) {
            const levels = {
                1: { message: "Basic stress test with simple loops.", complexity: 1000, stressFunction: simpleLoop },
                2: { message: "Adding more complexity with DOM manipulations.", complexity: 5000, stressFunction: domManipulation },
                3: { message: "Heavy computations, including recursive calculations.", complexity: 20000, stressFunction: recursiveCalc },
                4: { message: "Highly intensive computations with memory-heavy tasks.", complexity: 100000, stressFunction: memoryHog },
                5: { message: "Near impossible level: Large recursive tree, system overload.", complexity: 500000, stressFunction: systemOverload },
                6: { message: "Maximum overload. Use with extreme caution.", complexity: 1000000, stressFunction: extremeOverload }
            };

            if (levels[level]) {
                levelDisplay.innerHTML = `
                    <h2>Level ${level}</h2>
                    <p>${levels[level].message}</p>
                    <p>Complexity: ${levels[level].complexity}</p>
                `;
                triggerStress(levels[level].stressFunction, levels[level].complexity);
            }
        }

        // Simple loop function for low-level stress
        function simpleLoop(complexity) {
            for (let i = 0; i < complexity; i++) {
                Math.sqrt(i);  // A basic calculation to simulate load
            }
        }

        // DOM manipulation to simulate more stress
        function domManipulation(complexity) {
            const div = document.createElement('div');
            for (let i = 0; i < complexity; i++) {
                div.innerHTML += `<p>Test item ${i}</p>`;  // Adds a lot of DOM nodes to simulate stress
            }
            document.body.appendChild(div);
        }

        // Recursive calculation to simulate CPU-heavy work
        function recursiveCalc(n) {
            if (n <= 0) return 0;
            return n + recursiveCalc(n - 1);
        }

        // High memory usage (large array allocation)
        function memoryHog(complexity) {
            let arr = [];
            for (let i = 0; i < complexity; i++) {
                arr.push(new Array(1000).fill('Test'));  // Simulates heavy memory usage
            }
        }

        // Simulate system overload with large recursive calls
        function systemOverload(complexity) {
            const recursive = (n) => {
                if (n <= 0) return;
                setTimeout(() => recursive(n - 1), 0);
            };
            recursive(complexity);  // Create a large number of recursive calls
        }

        // Extreme overload, highly complex
        function extremeOverload(complexity) {
            let arr = [];
            for (let i = 0; i < complexity; i++) {
                arr.push(new Array(10000).fill('Extreme Stress Test')); // Extreme memory and CPU usage
            }
        }

        // Increase the level of difficulty
        function nextLevel() {
            currentLevel++;
            if (currentLevel <= 6) {
                loadLevel(currentLevel);
            } else {
                levelDisplay.innerHTML = 'Test Completed! You survived all levels!';
                warningDisplay.innerHTML = '';
            }
        }

        // Unlock an achievement when the level is completed
        function unlockAchievement(level) {
            achievements.push(`Level ${level} Survived`);
            const achievementMessage = `Achievement Unlocked: Level ${level} Survived`;
            alert(achievementMessage);
            achievementsDisplay.innerHTML = `<p>${achievementMessage}</p>` + achievements.join('<br>');
        }

        // Show warning before starting the test
        function showWarning() {
            warningDisplay.innerHTML = "Warning: This test may cause your browser or system to become unresponsive. Proceed with caution.";
        }

        // Start the test
        document.getElementById('start-test').addEventListener('click', function() {
            showWarning();
            loadLevel(currentLevel);
            window.onbeforeunload = function() {
                unlockAchievement(currentLevel);
                nextLevel();
            };
        });

    </script>
</body>
</html>
